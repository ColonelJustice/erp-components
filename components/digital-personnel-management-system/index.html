<div class="pdm-container font-sans text-slate-900" id="pdm_root">
    <!-- Sidebar: Employee List -->
    <aside class="pdm-sidebar">
        <header class="pdm-header bg-slate-50">
            <h2 class="text-lg font-bold text-slate-800">Mitarbeiter</h2>
            <button id="pdm_btn_new_employee" class="p-1 text-indigo-600 hover:bg-indigo-50 rounded-md" title="Neuer Mitarbeiter">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
            </button>
        </header>

        <div class="pdm-search-container">
            <input type="text" id="pdm_employee_search" class="pdm-search-input" placeholder="Name oder Personalnummer...">
        </div>

        <div id="pdm_employee_list" class="flex-1 overflow-y-auto">
            <!-- Employee items will be injected here -->
            <div class="p-8 text-center text-slate-400">
                <p>Lade Mitarbeiter...</p>
            </div>
        </div>
    </aside>

    <!-- Main Content: Employee Details & Documents -->
    <main class="pdm-main">
        <div id="pdm_detail_view" class="hidden">
            <!-- Header Card -->
            <div class="pdm-card mb-6">
                <div class="p-6 flex items-start justify-between">
                    <div class="flex gap-4">
                        <div id="pdm_detail_avatar" class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-2xl uppercase">
                            <!-- Initials -->
                        </div>
                        <div>
                            <h1 id="pdm_detail_name" class="text-2xl font-bold text-slate-800">Max Mustermann</h1>
                            <p id="pdm_detail_pnr" class="text-slate-500 font-medium">PNR: 10245</p>
                            <div class="mt-2">
                                <span id="pdm_detail_status" class="pdm-status-badge pdm-status-active">Aktiv</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button id="pdm_btn_edit" class="px-4 py-2 border border-slate-200 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors">Bearbeiten</button>
                        <button id="pdm_btn_delete" class="px-4 py-2 border border-red-200 text-red-600 rounded-lg text-sm font-medium hover:bg-red-50 transition-colors">Löschen</button>
                    </div>
                </div>

                <nav class="pdm-tab-nav">
                    <div class="pdm-tab-item active" data-tab="master-data">Stammdaten</div>
                    <div class="pdm-tab-item" data-tab="documents">Digitale Personalakte</div>
                </nav>
            </div>

            <!-- Tab: Master Data -->
            <div id="pdm_tab_master_data" class="pdm-tab-content">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="pdm-card">
                        <div class="pdm-header">
                            <h3 class="font-semibold text-slate-700">Allgemeine Informationen</h3>
                        </div>
                        <div class="p-6 grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Eintritt</label>
                                <p id="pdm_val_eintritt" class="text-slate-700">—</p>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Austritt</label>
                                <p id="pdm_val_austritt" class="text-slate-700">—</p>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Geburtstag</label>
                                <p id="pdm_val_geburtstag" class="text-slate-700">—</p>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Kostenstelle</label>
                                <p id="pdm_val_kostenstelle" class="text-slate-700">—</p>
                            </div>
                        </div>
                    </div>

                    <div class="pdm-card">
                        <div class="pdm-header">
                            <h3 class="font-semibold text-slate-700">Kontakt</h3>
                        </div>
                        <div class="p-6">
                            <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">E-Mail (Unternehmen)</label>
                            <p id="pdm_val_email" class="text-indigo-600 hover:underline cursor-pointer">—</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab: Documents -->
            <div id="pdm_tab_documents" class="pdm-tab-content hidden">
                <div class="pdm-card">
                    <div class="pdm-header">
                        <h3 class="font-semibold text-slate-700">Dokumentenübersicht</h3>
                        <button id="pdm_btn_add_doc" class="px-3 py-1.5 bg-indigo-600 text-white rounded-md text-xs font-medium hover:bg-indigo-700 transition-colors">Dokument hinzufügen</button>
                    </div>
                    <div id="pdm_documents_table_container" class="overflow-hidden">
                        <!-- ERPTable for documents -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Empty State -->
        <div id="pdm_empty_state" class="pdm-empty-state">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <h3 class="text-lg font-medium text-slate-600">Kein Mitarbeiter ausgewählt</h3>
            <p class="text-sm mt-1">Wählen Sie einen Mitarbeiter aus der Liste aus, um die digitale Personalakte anzuzeigen.</p>
        </div>
    </main>

    <!-- Modal for Edit/Create -->
    <div id="pdm_modal_form" class="fixed inset-0 bg-slate-900/50 flex items-center justify-center z-[100] hidden">
        <div class="bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden">
            <header class="px-6 py-4 border-bottom bg-slate-50 flex justify-between items-center">
                <h3 id="pdm_modal_title" class="font-bold text-slate-800">Mitarbeiter bearbeiten</h3>
                <button class="pdm-close-modal text-slate-400 hover:text-slate-600">&times;</button>
            </header>
            <div id="pdm_form_container" class="p-6">
                <!-- ERPForm will be injected here -->
            </div>
        </div>
    </div>

    <!-- Modal for Document Upload -->
    <div id="pdm_modal_upload" class="fixed inset-0 bg-slate-900/50 flex items-center justify-center z-[100] hidden">
        <div class="bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden">
            <header class="px-6 py-4 border-bottom bg-slate-50 flex justify-between items-center">
                <h3 class="font-bold text-slate-800">Dokument hochladen</h3>
                <button class="pdm-close-upload-modal text-slate-400 hover:text-slate-600 text-2xl">&times;</button>
            </header>
            <div class="p-8">
                <div id="pdm_upload_drop_zone" class="pdm-drop-zone">
                    <input type="file" id="pdm_file_input" class="pdm-file-input" multiple>
                    <div class="pdm-drop-zone-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                    </div>
                    <p class="text-slate-600 font-medium">Dateien hierher ziehen oder klicken</p>
                    <p class="text-slate-400 text-sm mt-1">PDF, JPG, PNG bis zu 10MB</p>
                    
                    <div id="pdm_upload_status" class="hidden mt-6">
                        <div class="flex justify-between text-xs font-semibold text-slate-500 mb-1">
                            <span id="pdm_upload_filename">beispiel.pdf</span>
                            <span id="pdm_upload_percent">0%</span>
                        </div>
                        <div class="pdm-upload-progress">
                            <div id="pdm_upload_progress_bar" class="pdm-upload-progress-bar"></div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 flex justify-end gap-3">
                    <button class="pdm-close-upload-modal px-4 py-2 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors">Abbrechen</button>
                    <button id="pdm_btn_start_upload" class="px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>Hochladen</button>
                </div>
            </div>
        </div>
    </div>
</div>